{"version":3,"file":"blocks/pdf-custom-block/index.js","mappings":"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","sources":["webpack://custom-block-package/external window [\"wp\",\"blockEditor\"]","webpack://custom-block-package/external window [\"wp\",\"blocks\"]","webpack://custom-block-package/external window [\"wp\",\"components\"]","webpack://custom-block-package/external window [\"wp\",\"element\"]","webpack://custom-block-package/external window [\"wp\",\"i18n\"]","webpack://custom-block-package/webpack/bootstrap","webpack://custom-block-package/webpack/runtime/make namespace object","webpack://custom-block-package/./src/blocks/pdf-custom-block/index.js"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { __ } from '@wordpress/i18n';\r\n\r\n// import './editor.scss';\r\n// import './style.scss';\r\nimport { registerBlockType } from '@wordpress/blocks';\r\n// const { registerBlockType } = wp.blocks;\r\nimport block from './block.json';\r\nimport { MediaUpload, InspectorControls } from '@wordpress/block-editor';\r\n\r\nimport {\r\n\tButton,\r\n\tPanelRow,\r\n\tPanelBody,\r\n\tToggleControl,\r\n\tRangeControl,\r\n\tSelectControl,\r\n\tTextControl,\r\n} from '@wordpress/components';\r\n\r\nconst defaultHeight = 800;\r\nconst defaultWidth = 0;\r\n\r\nconst ALLOWED_MEDIA_TYPES = [ 'application/pdf' ];\r\n\r\nregisterBlockType(block.name, {\r\nedit( props ) {\r\n    const onFileSelect = ( img ) => {\r\n        props.setAttributes( {\r\n            imageURL: img.url,\r\n            imgID: img.id,\r\n            imgTitle: img.title,\r\n        } );\r\n    };\r\n\r\n    const onRemoveImg = () => {\r\n        props.setAttributes( {\r\n            imageURL: null,\r\n            imgID: null,\r\n            imgTitle: null,\r\n        } );\r\n    };\r\n\r\n    const onToggleDownload = ( value ) => {\r\n        props.setAttributes( {\r\n            showDownload: value,\r\n        } );\r\n    };\r\n\r\n    const onHeightChange = ( value ) => {\r\n        // handle the reset button\r\n        if ( undefined === value ) {\r\n            value = defaultHeight;\r\n        }\r\n        props.setAttributes( {\r\n            viewerHeight: value,\r\n        } );\r\n    };\r\n\r\n    const onWidthChange = ( value ) => {\r\n        // handle the reset button\r\n        if ( undefined === value ) {\r\n            value = defaultWidth;\r\n        }\r\n        props.setAttributes( {\r\n            viewerWidth: value,\r\n        } );\r\n    };\r\n\r\n    return [\r\n        <InspectorControls key=\"i1\">\r\n            <PanelBody title={ __( 'PDF.js Options', 'pdfjs-viewer-shortcode' ) }>\r\n                <PanelRow>\r\n                    <ToggleControl\r\n                        label={ __(\r\n                            'Show Download Option',\r\n                            'pdfjs-viewer-shortcode'\r\n                        ) }\r\n                        help={\r\n                            props.attributes.showDownload\r\n                                ? __( 'Yes', 'pdfjs-viewer-shortcode' )\r\n                                : __( 'No', 'pdfjs-viewer-shortcode' )\r\n                        }\r\n                        checked={ props.attributes.showDownload }\r\n                        onChange={ onToggleDownload }\r\n                    />\r\n                </PanelRow>\r\n            </PanelBody>\r\n            <PanelBody title={ __( 'Embed Height', 'pdfjs-viewer-shortcode' ) }>\r\n                <RangeControl\r\n                    label={ __(\r\n                        'Viewer Height (pixels)',\r\n                        'pdfjs-viewer-shortcode'\r\n                    ) }\r\n                    value={ props.attributes.viewerHeight }\r\n                    onChange={ onHeightChange }\r\n                    min={ 0 }\r\n                    max={ 5000 }\r\n                    allowReset={ true }\r\n                    initialPosition={ defaultHeight }\r\n                />\r\n            </PanelBody>\r\n            <PanelBody title={ __( 'Embed Width', 'pdfjs-viewer-shortcode' ) }>\r\n                <RangeControl\r\n                    label={ __(\r\n                        'Viewer Width (pixels)',\r\n                        'pdfjs-viewer-shortcode'\r\n                    ) }\r\n                    help=\"By default 0 will be 100%.\"\r\n                    value={ props.attributes.viewerWidth }\r\n                    onChange={ onWidthChange }\r\n                    min={ 0 }\r\n                    max={ 5000 }\r\n                    allowReset={ true }\r\n                    initialPosition={ defaultWidth }\r\n                />\r\n            </PanelBody>\r\n        </InspectorControls>,\r\n        <div className=\"pdfjs-wrapper components-placeholder\" key=\"i2\" style={{height: props.attributes.viewerHeight}}>\r\n            <div>\r\n                <strong>{ __( 'PDF.js Embed', 'pdfjs-viewer-shortcode' ) }</strong>\r\n            </div>\r\n            { props.attributes.imageURL ? (\r\n                <div className=\"pdfjs-upload-wrapper\">\r\n                    <div className=\"pdfjs-upload-button-wrapper\">\r\n                        <span className=\"dashicons dashicons-media-document\"></span>\r\n                        <span className=\"pdfjs-title\">\r\n                            { props.attributes.imgTitle\r\n                                ? props.attributes.imgTitle\r\n                                : props.attributes.imageURL }\r\n                        </span>\r\n                    </div>\r\n                    { props.isSelected ? (\r\n                        <Button className=\"button\" onClick={ onRemoveImg }>\r\n                            { __( 'Remove PDF', 'pdfjs-viewer-shortcode' ) }\r\n                        </Button>\r\n                    ) : null }\r\n                </div>\r\n            ) : (\r\n                <div>\r\n                    <MediaUpload\r\n                        onSelect={ onFileSelect }\r\n                        allowedTypes={ ALLOWED_MEDIA_TYPES }\r\n                        value={ props.attributes.imgID }\r\n                        render={ ( { open } ) => (\r\n                            <Button className=\"button\" onClick={ open }>\r\n                                { __( 'Choose PDF', 'pdfjs-viewer-shortcode' ) }\r\n                            </Button>\r\n                        ) }\r\n                    />\r\n                </div>\r\n            ) }\r\n        </div>,\r\n    ];\r\n},\r\n\r\nsave(props) {\r\n    // let urlLink = props.attributes.imageURL\r\n    return (\r\n        <div className=\"pdfjs-wrapper\">\r\n            {`[pdfjs-viewer attachment_id=${ props.attributes.imgID } url=${ props.attributes.imageURL } viewer_width=${ ( props.attributes.viewerWidth !== undefined ) ? props.attributes.viewerWidth : defaultWidth } viewer_height=${ ( props.attributes.viewerHeight !== undefined ) ? props.attributes.viewerHeight : defaultHeight } url=${ props.attributes.imageURL } ]`}\r\n        </div>\r\n    );\r\n},\r\n\r\n})\r\n"],"names":["__","registerBlockType","block","MediaUpload","InspectorControls","Button","PanelRow","PanelBody","ToggleControl","RangeControl","SelectControl","TextControl","defaultHeight","defaultWidth","ALLOWED_MEDIA_TYPES","name","edit","props","onFileSelect","img","setAttributes","imageURL","url","imgID","id","imgTitle","title","onRemoveImg","onToggleDownload","value","showDownload","onHeightChange","undefined","viewerHeight","onWidthChange","viewerWidth","createElement","key","label","help","attributes","checked","onChange","min","max","allowReset","initialPosition","className","style","height","isSelected","onClick","onSelect","allowedTypes","render","_ref","open","save"],"sourceRoot":""}